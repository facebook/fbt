<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<link rel="search" type="application/opensearchdescription+xml" title="FBT" href="/fbt/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">Fbt promoted to v1.0.0 | FBT</title><meta data-react-helmet="true" property="og:title" content="Fbt promoted to v1.0.0 | FBT"><meta data-react-helmet="true" name="description" content="&quot;We reached adulthood yeah!&quot; ü•≥ü•Çüç∫üéâ"><meta data-react-helmet="true" property="og:description" content="&quot;We reached adulthood yeah!&quot; ü•≥ü•Çüç∫üéâ"><meta data-react-helmet="true" property="og:image" content="https://facebook.github.io/fbt/img/fbt.png"><meta data-react-helmet="true" property="twitter:image" content="https://facebook.github.io/fbt/img/fbt.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Fbt promoted to v1.0.0 | FBT"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/fbt/img/favicon_blue.png"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/fbt/styles.c4880600.css">
<link rel="preload" href="/fbt/styles.2a53c2c2.js" as="script">
<link rel="preload" href="/fbt/runtime~main.e8ea0f6e.js" as="script">
<link rel="preload" href="/fbt/main.0e066d97.js" as="script">
<link rel="preload" href="/fbt/1.7c1b0b4a.js" as="script">
<link rel="preload" href="/fbt/2.d99ac69a.js" as="script">
<link rel="preload" href="/fbt/3.a3a8169f.js" as="script">
<link rel="preload" href="/fbt/ccc49370.f38fdaff.js" as="script">
<link rel="preload" href="/fbt/9c078344.db57db6b.js" as="script">
<link rel="preload" href="/fbt/97bfd1cc.cefb3b29.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div class="announcementBar_1l0Z" style="background-color:#20232a;color:#fff" role="banner"><div class="announcementBarContent_1xni">Support Ukraine üá∫üá¶ <a target="_blank" rel="noopener noreferrer" href="https://opensource.fb.com/support-ukraine"> Help Provide Humanitarian Aid to Ukraine</a>.</div></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/fbt/"><img class="navbar__logo" src="/fbt/img/fbt.png" alt="FBT Logo"><strong class="navbar__title">FBT</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/fbt/docs/getting_started_on_web">Docs</a><a class="navbar__item navbar__link" href="/fbt/help">Help</a><a href="https://github.com/facebook/fbt" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">‚åò</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/fbt/"><img class="navbar__logo" src="/fbt/img/fbt.png" alt="FBT Logo"><strong class="navbar__title">FBT</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/fbt/docs/getting_started_on_web">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/fbt/help">Help</a></li><li class="menu__list-item"><a href="https://github.com/facebook/fbt" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--2"><div class="sidebar_3I7I"><h3 class="sidebarItemTitle_2Dv3">Recent posts</h3><ul class="sidebarItemList_1RlG"><li class="sidebarItem_Hxgp"><a aria-current="page" class="sidebarItemLink_3ppv sidebarItemLinkActive_3XUi" href="/fbt/blog/2022/04/12/blog-post">Fbt promoted to v1.0.0</a></li><li class="sidebarItem_Hxgp"><a class="sidebarItemLink_3ppv" href="/fbt/blog/2018/02/14/blog-post">What does FBT mean?</a></li><li class="sidebarItem_Hxgp"><a class="sidebarItemLink_3ppv" href="/fbt/blog/2018/01/03/blog-post">Release</a></li></ul></div></div><div class="col col--8"><article><header><h1 class="margin-bottom--sm blogPostTitle_1mse">Fbt promoted to v1.0.0</h1><div class="margin-vert--md"><time datetime="2022-04-12T00:00:00.000Z" class="blogPostDate_3bQP">April 12, 2022  ¬∑ 4 min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/kayhadrin" target="_blank" rel="noreferrer noopener">David Han-Sze-Chuen</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><blockquote><p>&quot;We reached adulthood yeah!&quot; ü•≥ü•Çüç∫üéâ</p></blockquote><p>For a bit more than two years, we&#x27;ve been working on a major refactor of the JS Fbt library. This project went through 600+ internal code reviews and helped identify multiple thousands of strings on the facebook.com domain that would benefit from being retranslated.
On January 26th 2022, we deployed it on facebook.com and, a month later, on the React Native views of our Facebook mobile app for both Android and iOS platforms. Enough time has elapsed to consider this release stable.</p><p>This new version significantly improves the accuracy of the strings extracted from our JS codebase on www and RN; thus giving a better opportunity for translators to produce quality translations.</p><p>We&#x27;re now ready to release it as v1.0.0 of the JS Fbt library!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="whats-changed"></a>What&#x27;s changed?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#whats-changed" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="major-features"></a>Major features<a aria-hidden="true" tabindex="-1" class="hash-link" href="#major-features" title="Direct link to heading">#</a></h3><p><strong>üö® BREAKING CHANGE:</strong> due to the below major changes, the <code>fbt-collect</code> script may extract new strings that will need to be retranslated.
Please see <a href="https://github.com/facebook/fbt/tree/main/auto-param-new-string-helper" target="_blank" rel="noopener noreferrer">this page for more information on how to upgrade.</a></p><ol><li><p><strong>Strings that contain nested React elements (&quot;Rich content fbt strings&quot;) will now produce more accurate string descriptions.</strong> <br></p><p><strong>Why?</strong> <br>
While the legacy version of the fbt library was already able to do &quot;auto paramterization&quot;, it was quite buggy and contributed to generate non-sensical strings - causing translation quality issues since translators would lack the necessary textual context to do their work.</p><p>E.g. An extracted string may appear as <code>&quot;{=} uploaded {=one photo} that you haven&#x27;t seen yet.&quot;</code>
Who or what is <code>{=}</code>? What about the plural case when there are many photos?</p><p>The legacy algorithm to generate descriptions for our nested fbt strings was sometimes missing key words and wasn&#x27;t able to track string variations issued from special fbt constructs like <code>&lt;fbt:pronoun&gt;</code> (e.g. <code>he</code>/<code>she</code>/<code>they</code>).</p><p>At the scale of Facebook&#x27;s website, we identified several thousands of strings that could be improved from this major fbt update.</p><ul><li>üìñ <strong><a href="/fbt/docs/autoparam">Learn more about Auto Parameterization</a></strong></li></ul></li><li><p><strong>Fixed handling of whitespace characters.</strong> <br></p><p><strong>Why?</strong> <br>
In the legacy Fbt library version, we noticed that whitespace characters (i.e. <code>&amp;nbsp;</code> characters) were silently dropped from text and descriptions.
Using them is sometimes necessary for UI layout purposes so we&#x27;ve ensure that they&#x27;re now correctly preserved.</p><ul><li>‚ö†Ô∏è You should still ensure that translators are aware of their presence so that they can also preserve them in their translations.</li></ul></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="minor-features"></a>Minor features<a aria-hidden="true" tabindex="-1" class="hash-link" href="#minor-features" title="Direct link to heading">#</a></h3><ol><li><strong>Added ability to write plain-text only fbt strings with the <a href="/fbt/docs/enforcing_plain_text"><code>fbs</code> API</a></strong> <br>
Sometimes, we need to ensure that some localizable strings are only made of plain-text. E.g. the <code>placeholder</code> HTML attribute of a text input field.
For this, we introduced the <a href="/fbt/docs/enforcing_plain_text"><code>fbs</code> API</a> to define plain-text strings.</li><li><strong><a href="/fbt/docs/api_intro/#custom-fbt-api-attributes">Added the ability to expose arbitrary options to the <code>&lt;fbt&gt;</code> / <code>fbt()</code> callsites.</a></strong> <br>
It enables fbt users to customize how <code>FbtResult</code> objects are generated on the client-side.</li><li><strong>Support fbt <code>common</code> attribute without value</strong></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="acknowledgments"></a>Acknowledgments<a aria-hidden="true" tabindex="-1" class="hash-link" href="#acknowledgments" title="Direct link to heading">#</a></h2><p>This major release is the fruit of 2+ years of work on my part and was made possible thanks to the help of John Watson (<a href="https://github.com/jrwats" target="_blank" rel="noopener noreferrer">@jrwats</a>) and Yisong Qin (<a href="https://github.com/pkqinys" target="_blank" rel="noopener noreferrer">@pkqinys</a>).</p><p>As the original maintainer of the JS Fbt library, John helped me better understand the string extraction &amp; translation workflow of the original codebase, and was a great sounding board as I was designing the high-level tech solution for this project. He also helped improve the overall developer experience by decoupling more JS Fbt code from the rest of the Meta infra.
Many thanks also to Yisong Qin - who came onboard in 2021 - to help me push this project to the finish line. He made significant contributions by rewriting important portions of the fbt client-side code generator and the OSS translation payload ingestor; notwithstanding many more things at the Meta-infra level. Although new to node.js programming, he showed the grit necessary to learn it from scratch and had a great impact on the project outcomes.</p><p>üïä Finally, we hope that you find better value in using this latest release of the JS Fbt library.
Please feel free to share any question/feedback by <a href="https://github.com/facebook/fbt/discussions/356" target="_blank" rel="noopener noreferrer">commenting on this post</a> or opening <a href="https://github.com/facebook/fbt/discussions" target="_blank" rel="noopener noreferrer">new discussion threads on Github.</a></p><p>Cheers!</p><p>David (<a href="https://github.com/kayhadrin" target="_blank" rel="noopener noreferrer">@kayhadrin</a>)</p></section></article><div></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/fbt/blog/2018/02/14/blog-post"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">What does FBT mean? ¬ª</div></a></div></nav></div></div><div class="col col--2"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#whats-changed" class="table-of-contents__link">What&#39;s changed?</a><ul><li><a href="#major-features" class="table-of-contents__link">Major features</a></li><li><a href="#minor-features" class="table-of-contents__link">Minor features</a></li></ul></li><li><a href="#acknowledgments" class="table-of-contents__link">Acknowledgments</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/fbt/docs/getting_started_on_web">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/fbt/help">Help</a></li><li class="footer__item"><a class="footer__link-item" href="/fbt/docs/api_intro">API Reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/fbt/users">User Showcase</a></li><li class="footer__item"><a href="http://stackoverflow.com/questions/tagged/fbt" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discord.gg/cQvXZr5" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord Channel</a></li><li class="footer__item"><a href="https://twitter.com/fbt_js" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Legal</h4><ul class="footer__items"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noreferrer noopener" class="footer__link-item">Privacy</a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noreferrer noopener" class="footer__link-item">Terms</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/fbt/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/fbt" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_1zJy"><img class="footer__logo" alt="Facebook Open Source Logo" src="https://docusaurus.io/img/oss_logo.png"></a></div><div>Copyright ¬© 2022 Facebook, Inc.</div></div></div></footer></div>
<script src="/fbt/styles.2a53c2c2.js"></script>
<script src="/fbt/runtime~main.e8ea0f6e.js"></script>
<script src="/fbt/main.0e066d97.js"></script>
<script src="/fbt/1.7c1b0b4a.js"></script>
<script src="/fbt/2.d99ac69a.js"></script>
<script src="/fbt/3.a3a8169f.js"></script>
<script src="/fbt/ccc49370.f38fdaff.js"></script>
<script src="/fbt/9c078344.db57db6b.js"></script>
<script src="/fbt/97bfd1cc.cefb3b29.js"></script>
</body>
</html>